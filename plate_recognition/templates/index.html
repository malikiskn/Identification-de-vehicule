<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Détection de Plaques</title>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body.dark-mode {
        background-color: #121212 !important;
        color: #f1f1f1;
    }

    .dark-mode .btn-primary,
    .dark-mode .btn-success,
    .dark-mode .btn-danger,
    .dark-mode .btn-secondary {
        filter: brightness(0.9);
    }

    .dark-mode input,
    .dark-mode select,
    .dark-mode textarea {
        background-color: #1e1e1e;
        color: #fff;
    }

    .dark-mode .form-control {
        border-color: #444;
    }
</style>
</head>
<body class="bg-light" id="main-body">
    <div class="text-end px-4 py-2">
        <button id="toggle-theme" class="btn btn-sm btn-outline-secondary">🌙 Activer le mode sombre</button>
    </div>
<div class="container py-5">
    <h1 class="mb-4 text-center text-primary">📷 Détection de plaques d'immatriculation</h1>

    <form action="/upload_image" method="post" enctype="multipart/form-data" class="mb-4">
        <h4>🖼️ 1. Télécharger une image</h4>
        <input type="file" name="file" class="form-control mb-2" required>
        <button type="submit" class="btn btn-primary">Analyser l'image</button>
    </form>

    <form action="/upload_video" method="post" enctype="multipart/form-data" class="mb-4">
        <h4>🎥 2. Télécharger une vidéo</h4>
        <input type="file" name="file" class="form-control mb-2" required>
        <button type="submit" class="btn btn-success">Analyser la vidéo</button>
    </form>

    <form action="/webcam_live" method="get" class="mb-4">
        <h4>📡 3. Activer la webcam en direct</h4>
        <button type="submit" class="btn btn-danger">Lancer la webcam</button>
    </form>

    <form action="/history" method="get">
        <h4>📋 Historique</h4>
        <button type="submit" class="btn btn-secondary">Voir l'historique</button>
    </form>
</div>
<script>
    const toggleBtn = document.getElementById("toggle-theme");
    const body = document.getElementById("main-body");

    // Charger la préférence enregistrée
    if (localStorage.getItem("theme") === "dark") {
        body.classList.add("dark-mode");
        toggleBtn.textContent = "🌞 Activer le mode clair";
    }

    toggleBtn.addEventListener("click", () => {
        body.classList.toggle("dark-mode");

        if (body.classList.contains("dark-mode")) {
            localStorage.setItem("theme", "dark");
            toggleBtn.textContent = "🌞 Activer le mode clair";
        } else {
            localStorage.setItem("theme", "light");
            toggleBtn.textContent = "🌙 Activer le mode sombre";
        }
    });
</script>
</body>
</html>